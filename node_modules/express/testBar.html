<!DOCTYPE html>
<html>
  <head>
    <style>
      #map {
        margin: 0 auto;
        width: 400px;
        height: 500px;
      }
    </style>
  <script src="https://cdn.firebase.com/js/client/2.4.1/firebase.js"></script>
  </head>
  <body>
    <div id="map"></div>
    <script>
          // This example creates circles on the map, representing populations in North
          // America.

          // First, create an object containing LatLng and population for each city.
          var fBase = new Firebase("https://glowing-inferno-6337.firebaseio.com/");
          var node = fBase.child("Tweets");
          var flag = false;
          var information = {};
          var map;
          node.push().set({
            lat:39.0,
            lng:-76.0,
            attitude:"good"
          });
          function initMap() {
            // Create the mahttp://stackoverflow.com/questions/3559070/are-there-dictionaries-in-javascript-like-pythonp.
            var map = new google.maps.Map(document.getElementById('map'), {
              zoom: 4,
              center: {lat: 37.090, lng: -95.712},
              mapTypeId: google.maps.MapTypeId.TERRAIN
            });

            node.on("child_added",function(snapshot,prevChildKey){
              var newInfo = snapshot.val();
              var latitude = newInfo.lat;
              var long = newInfo.lng;
              var feeling = newInfo.attitude;
              console.log(feeling);
              var color = '#ff0000';
              if(feeling==="bad"){
                color='#ff0000';
              }
              else if(feeling ==="good"){
                color = "#1aff1a";
              }
              else{
                color = "#ffb366";
              }
              var newCircle = new google.maps.Circle({
                fillColor: color,
                strokeColor:color,
                strokeOpacity: .9,
                strokeWeight: 2,
                fillOpacity: 0.7,
                map: map,
                center: {lat:latitude,lng:long},
                radius: 10000,
                title: "spoooooky"

              });
              console.log(latitude);
              console.log(long);
            });
    }


            // Construct the circle for each value in citymap.
            // Note: We scale the area of the circle based on the population.
</script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBrTZOrrLFwf7HWBxRNbOpBxxLhfHW7RkM&callback=initMap">
    </script>



  </body>
</html>
